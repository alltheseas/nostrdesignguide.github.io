"use strict";(self.webpackChunknostr_design=self.webpackChunknostr_design||[]).push([[408],{2236:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var s=n(7624),i=n(5788);const r={},a="Relays",o={id:"how-to/relays",title:"Relays",description:"Relay discovery, continues to be a highly debated topic in the nostr community, primarily because the entire decentralization of the protocol depends on how people discover relays.",source:"@site/docs/how-to/relays.md",sourceDirName:"how-to",slug:"/how-to/relays",permalink:"/docs/how-to/relays",draft:!1,unlisted:!1,editUrl:"https://github.com/nostrdesignguide/nostrdesignguide.github.io/tree/main/docs/how-to/relays.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Private Key Safeguarding",permalink:"/docs/how-to/private-key-safeguarding"},next:{title:"Sharing",permalink:"/docs/how-to/sharing"}},l={},c=[{value:"Should relays share the spotlight?",id:"should-relays-share-the-spotlight",level:2},{value:"Relay Selection",id:"relay-selection",level:2},{value:"Relay Presentation",id:"relay-presentation",level:2},{value:"Relays in client settings",id:"relays-in-client-settings",level:3},{value:"Displaying relays on profile pages",id:"displaying-relays-on-profile-pages",level:3},{value:"Relay Discovery",id:"relay-discovery",level:2},{value:"Relays as first class citizens",id:"relays-as-first-class-citizens",level:2}];function h(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.MN)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"relays",children:"Relays"}),"\n",(0,s.jsx)("img",{src:n(4140).c}),"\n",(0,s.jsx)(t.p,{children:"Relay discovery, continues to be a highly debated topic in the nostr community, primarily because the entire decentralization of the protocol depends on how people discover relays."}),"\n",(0,s.jsx)(t.p,{children:"Automating the decision for users may sound nice, but creates centralizing pressures. Giving users the ultimate control over relays is great from the point of view of decentralization, but it comes with its own UX challenges. Our goal as designers and developers is to find a balance that gives users as much optionality as possible without sacrificing simple and intuitive UI and UX."}),"\n",(0,s.jsx)(t.p,{children:"In this section we will look at the pros and cons of various approaches and reflect on ways to improve the overall UX while maintaining a high degree of decentralization."}),"\n",(0,s.jsx)(t.h2,{id:"should-relays-share-the-spotlight",children:"Should relays share the spotlight?"}),"\n",(0,s.jsx)(t.p,{children:"Should we show relays prominently to users? Should they be tucked away into settings? Do we inform people which relay each note came from? Should relays be topic-specific or serve a variety of purposes? Is it ok to trust a few large relays as a starting point or does it create risk of centralization and abuse?"}),"\n",(0,s.jsx)(t.p,{children:"These questions and many others are at the core of relay discovery and usage - which underpins the entire protocol. Depending on how you answer each question, the UX may differ greatly."}),"\n",(0,s.jsx)(t.p,{children:'The correct answer is likely "it depends".'}),"\n",(0,s.jsx)(t.p,{children:"During onboarding we'll likely want to minimize the topics of relays as this is a high friction step which requires some learning. People have all sorts of questions about relays:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"What are relays?"}),"\n",(0,s.jsx)(t.li,{children:"How many do I need?"}),"\n",(0,s.jsx)(t.li,{children:"Will people see my notes if I join this relay and not that one?"}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"relay-selection",children:"Relay Selection"}),"\n",(0,s.jsx)(t.p,{children:"During the time of this writing, most clients ** pre-select a handful of relays** for new users. From a simple social client perspective, this is a good approach."}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsx)(t.p,{children:"Unless critical to the way people will experience your client, use progressive disclosure to ease users into new concepts like relays. They can always tweak their settings later or discover new relays via client UI."})}),"\n",(0,s.jsx)(t.p,{children:"Since the person is likely just trying out the service, it's great to keep the learning curve to a minimum and use the progressive discovery method to expose the topic of relays later in the process. This way your client \"just works\", and who doesn't like that?"}),"\n",(0,s.jsx)(t.p,{children:"However, if your client uses relays as topic-based servers, you'll obviously want to present some topics to follow (relays to join)."}),"\n",(0,s.jsx)(t.p,{children:"What about pre-selecting some relays but still showing this step in onboarding?"}),"\n",(0,s.jsx)(t.p,{children:"The problem with that approach is it still introduces a learning curve which may overwhelm the user. Depending on how motivated they are to try nostr, they may go through the steps, ignore it entirely, or decide it is not for them and leave."}),"\n",(0,s.jsxs)(t.p,{children:["As we speak, most relay names are not very telling of what the relay is about and how it is different, if at all. To a new user, the difference between ",(0,s.jsx)(t.code,{children:"relay.damus.io"})," and ",(0,s.jsx)(t.code,{children:"relay.nostr.band"})," is indistinguishable, and only brings up more questions than answers."]}),"\n",(0,s.jsx)(t.h2,{id:"relay-presentation",children:"Relay Presentation"}),"\n",(0,s.jsx)(t.p,{children:"There are multiple areas to present relays depending on how much flexibility we'd like to give our users."}),"\n",(0,s.jsx)(t.h3,{id:"relays-in-client-settings",children:"Relays in client settings"}),"\n",(0,s.jsx)(t.p,{children:"The most obvious place is the settings area. Some things to consider:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Keep relay displays user-friendly."})," Showing too much technical detail can scare non-technical users away. For example, since ",(0,s.jsx)(t.code,{children:"wss://"})," repeats for every relay, we can abstract it away and allow people to enter the relay name instead (while showing the wss:// part in a muted color)."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Consider adding an advanced mode"})," if you'd like to give your users ultimate control over their relays (read / write toggles, enabling which relays can access which parts of the app etc...)"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Use unambiguous labels"})," to clearly label what things mean. For example, using the bitcoin logo for a paid relay may not be obvious to people who know nothing about bitcoin."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Provide additional resources"})," to learn more about relays"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Provide some relay recommendations"})," for easy one-click additions"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Consider creating a FAQ section"}),' to address a few of the most asked questions such as "how many relays do I need?"']}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Here is an example of what a desktop relay settings area might look like:"}),"\n",(0,s.jsx)("img",{src:n(6812).c}),"\n",(0,s.jsx)(t.p,{children:"And the corresponding mobile view:"}),"\n",(0,s.jsx)("img",{src:n(2232).c}),"\n",(0,s.jsx)(t.h3,{id:"displaying-relays-on-profile-pages",children:"Displaying relays on profile pages"}),"\n",(0,s.jsx)(t.p,{children:"One way clients have enabled users to discover new relays is by showing them on each user's profiles. The only issue currently is that many clients don't tell you how many relays you share with that user, or even indicate that you already have that relay in your list. This makes it difficult to compare your relay lists or make sense of what to do with the relays. Should we add them? Why or why not?"}),"\n",(0,s.jsx)(t.p,{children:'Ideally, a profile page would indicate whether the user can see your notes (share the same relay, connect to an indexing relay or "share relays" via NIP65).'}),"\n",(0,s.jsx)(t.p,{children:"For the time being, we can add a slight improvement by showing which relays the users have in common:"}),"\n",(0,s.jsx)("img",{src:n(2788).c}),"\n",(0,s.jsx)(t.h2,{id:"relay-discovery",children:"Relay Discovery"}),"\n",(0,s.jsx)(t.p,{children:'Currently there are two different approaches in which we can treat relays and how they are discovered. The first is when relays act as a "behind-the-scenes" hidden away mechanism. The user does not care what they are as they simply take their notes in and display them to other users. The other method is to put a spotlight on relays and treat them as first class citizens so to speak. In the second scenario, the relay is displayed front and center and acts as a main method of content discovery. Think of it like a subreddit. A subreddit = an individual relay. Want different content? Hop the relay to see totally different content.'}),"\n",(0,s.jsx)(t.p,{children:"Depending on which method we choose, we can create different discovery scenarios."}),"\n",(0,s.jsx)(t.p,{children:'Most "traditional" types of clients will likely treat relays as a setting you can look at and forget. Tweak it just the right amount to get your preferred level of performance and forget all about it. This is how most clients currently work and relays are something you have to tinker with when you start, but later forget and just use the client as is.'}),"\n",(0,s.jsx)(t.p,{children:'Places we can enable relay discovery in the "behind-the-scenes" approach:'}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"In the user settings."}),' Most clients will include a relays or a "network" tab under user menu or in the settings menu.']}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Discover more relays link"})," that leads people to a bigger list of relays (whether within client or outside of client)"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"User profile page"}),', in a "relays" tab.']}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"relays-as-first-class-citizens",children:"Relays as first class citizens"}),"\n",(0,s.jsx)(t.p,{children:"The other approach to relay discovery is to elevate them to the primary method of navigation. One relay = one topic."}),"\n",(0,s.jsx)(t.p,{children:"This model resembles forum categories or sub-reddits if we think about Reddit's navigation."}),"\n",(0,s.jsx)(t.p,{children:'In this setup, relays are dynamic, changing quickly and often. Unlike "set it and forget it" settings treatment, the person using the app is constantly jumping from relay to relay.'}),"\n",(0,s.jsx)(t.p,{children:"Technically, there are no clients that enable this setup yet, but it's something that has been explored a little. The relay-per-community use case has been taken over by NIP-72 (Moderated Communities) which is already implemented in at least 3 clients. The question is whether the relay-per-topic is an efficient way of handling communities and that's up to the individual developer to decide and or to implement. For now, it remains in the halls of possibilities."})]})}function d(e={}){const{wrapper:t}={...(0,i.MN)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},5788:(e,t,n)=>{n.d(t,{MN:()=>c});var s=n(1504);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,s,i=function(e,t){if(null==e)return{};var n,s,i={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=s.createContext({}),c=function(e){var t=s.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},h={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},d=s.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),y=c(n),p=i,u=y["".concat(l,".").concat(p)]||y[p]||h[p]||r;return n?s.createElement(u,a(a({ref:t},d),{},{components:n})):s.createElement(u,a({ref:t},d))}));d.displayName="MDXCreateElement"},2788:(e,t,n)=>{n.d(t,{c:()=>s});const s=n.p+"assets/images/mobile-profile-relays-6a4e49a3a5c37870e600469d9aa1a21d.png"},2232:(e,t,n)=>{n.d(t,{c:()=>s});const s=n.p+"assets/images/mobile-relay-presentation-8333a466ce1e2b4bd0fb01c58c1406cd.png"},6812:(e,t,n)=>{n.d(t,{c:()=>s});const s=n.p+"assets/images/relay-display-92845d508593d456b65241b41749b767.png"},4140:(e,t,n)=>{n.d(t,{c:()=>s});const s=n.p+"assets/images/relays-cover-2af930bb14b2115add0fa1b356b038b7.png"}}]);